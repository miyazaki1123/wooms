!function(){var e={685:function(e){"use strict";var t=function(e){return parseInt(e,16)};e.exports=function(e,o){var n,r,a=function(e){return"#"===e.charAt(0)?e.slice(1):e}(e),s=function(e){var o=e.g,n=e.b,r=e.a;return{r:t(e.r),g:t(o),b:t(n),a:+(t(r)/255).toFixed(2)}}({r:(r=3===(n=a).length||4===n.length)?"".concat(n.slice(0,1)).concat(n.slice(0,1)):n.slice(0,2),g:r?"".concat(n.slice(1,2)).concat(n.slice(1,2)):n.slice(2,4),b:r?"".concat(n.slice(2,3)).concat(n.slice(2,3)):n.slice(4,6),a:(r?"".concat(n.slice(3,4)).concat(n.slice(3,4)):n.slice(6,8))||"ff"});return function(e,t){var o,n=e.r,r=e.g,a=e.b,s=e.a,l=(o=t,!isNaN(parseFloat(o))&&isFinite(o)?t:s);return"rgba(".concat(n,", ").concat(r,", ").concat(a,", ").concat(l,")")}(s,o)}},306:function(e){e.exports=function(e){if("string"!=typeof e)throw new Error("color has to be type of `string`");if("#"===e.substr(0,1))return{hex:e,alpha:1};var t=e.replace(/\s+/g,""),o=/(.*?)rgb(a)??\((\d{1,3}),(\d{1,3}),(\d{1,3})(,([01]|1.0*|0??\.([0-9]{0,})))??\)/.exec(t);if(!o)throw new Error("given color ("+e+") isn't a valid rgb or rgba color");var n=parseInt(o[3],10),r=parseInt(o[4],10),a=parseInt(o[5],10),s=o[6]?/([0-9\.]+)/.exec(o[6])[0]:"1",l=(a|r<<8|n<<16|1<<24).toString(16).slice(1);return"."===s.substr(0,1)&&(s=parseFloat("0"+s)),s=parseFloat(Math.round(100*s))/100,{hex:"#"+l.toString(16),alpha:s}}}},t={};function o(n){var r=t[n];if(void 0!==r)return r.exports;var a=t[n]={exports:{}};return e[n](a,a.exports,o),a.exports}o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,{a:t}),t},o.d=function(e,t){for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";var e={};o.r(e),o.d(e,{settings:function(){return _}});var t={};o.r(t),o.d(t,{settings:function(){return A}});var n={};o.r(n),o.d(n,{settings:function(){return O}});var r={};o.r(r),o.d(r,{settings:function(){return j}});var a={};o.r(a),o.d(a,{settings:function(){return W}});var s={};o.r(s),o.d(s,{settings:function(){return te}});var l={};o.r(l),o.d(l,{settings:function(){return ge}});var c={};o.r(c),o.d(c,{settings:function(){return he}});var i=window.wp.element,m=window.lodash,u=window.wp.blockEditor,g=window.wp.components,p=window.wp.richText,d=window.wp.i18n;const b=(0,i.createElement)("svg",{role:"img",focusable:"false",width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true"},(0,i.createElement)("path",{d:"M13.982,16.711c-0.744,1.441 -2.248,2.428 -3.982,2.428c-1.735,0 -3.238,-0.986 -3.983,-2.428c0.909,-1.213 2.355,-2.002 3.983,-2.002c1.629,0 3.074,0.789 3.982,2.002Zm-0.748,-7.657c-0.314,2.56 1.248,2.919 1.248,5.603c0,0.467 -0.072,0.918 -0.205,1.344c-1.037,-1.203 -2.57,-1.967 -4.277,-1.967c-1.708,0 -3.24,0.764 -4.277,1.967c-0.133,-0.426 -0.205,-0.877 -0.205,-1.344c0,-2.684 1.563,-3.043 1.247,-5.603c-0.362,-2.928 -4.315,-2.465 -4.315,-5.334c0,-1.579 1.279,-2.858 2.858,-2.858c1.709,0 2.765,1.558 4.692,1.558c1.926,0 2.982,-1.558 4.691,-1.558c1.578,0 2.857,1.279 2.857,2.858c0.001,2.869 -3.952,2.406 -4.314,5.334Zm-4.677,-4.947l-0.708,0c0,0.498 -0.403,0.9 -0.901,0.9c-0.498,0 -0.901,-0.402 -0.901,-0.9l-0.708,0c0,0.889 0.72,1.609 1.609,1.609c0.889,0 1.609,-0.72 1.609,-1.609Zm0.979,7.141c0,-0.312 -0.253,-0.568 -0.566,-0.568c-0.313,0 -0.567,0.256 -0.567,0.568c0,0.312 0.254,0.566 0.567,0.566c0.313,0 0.566,-0.253 0.566,-0.566Zm2.062,0c0,-0.312 -0.254,-0.568 -0.568,-0.568c-0.312,0 -0.566,0.256 -0.566,0.568c0,0.312 0.254,0.566 0.566,0.566c0.314,0 0.568,-0.253 0.568,-0.566Zm3.062,-7.141l-0.707,0c0,0.498 -0.404,0.9 -0.9,0.9c-0.498,0 -0.902,-0.402 -0.902,-0.9l-0.707,0c0,0.889 0.721,1.609 1.609,1.609c0.886,0.001 1.607,-0.72 1.607,-1.609Z"})),h={position:"bottom left",isAlternate:!0};(0,p.registerFormatType)("snow-monkey-editor/dropdown",{title:"buttons",tagName:"sme-dropdown",className:null,edit:()=>(0,i.createElement)(u.BlockFormatControls,null,(0,i.createElement)("div",{className:"block-editor-format-toolbar"},(0,i.createElement)(g.ToolbarGroup,null,(0,i.createElement)(g.Slot,{name:"SnowMonkey.ToolbarControls"},(e=>0!==e.length&&(0,i.createElement)(g.ToolbarItem,null,(t=>(0,i.createElement)(g.DropdownMenu,{icon:b,label:(0,d.__)("Snow Monkey Editor Controls","snow-monkey-editor"),toggleProps:t,controls:(0,m.orderBy)(e.map((e=>{let[{props:t}]=e;return t})),"title"),popoverProps:h}))))),["sme-font-size","sme-letter-spacing","sme-line-height","sme-text-color","sme-bg-color","sme-highlighter","sme-badge"].map((e=>(0,i.createElement)(g.Slot,{name:`SnowMonkey.ToolbarControls.${e}`,key:e}))))))});const f=e=>{if(!e)return;const{name:t,settings:o}=e;(0,p.registerFormatType)(t,o)};var v=window.wp.data;function y(){return y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},y.apply(this,arguments)}var C=window.wp.keycodes;function k(e){let t,{name:o,shortcutType:n,shortcutCharacter:r,...a}=e,s="SnowMonkey.ToolbarControls";return o&&(s+=`.${o}`),n&&r&&(t=C.displayShortcut[n](r)),(0,i.createElement)(g.Fill,{name:s},(0,i.createElement)(g.ToolbarButton,y({},a,{shortcut:t})))}const w=(0,d.__)("Remove formatting","snow-monkey-editor"),_={name:"snow-monkey-editor/remove-fomatting",title:w,tagName:"span",className:"sme-remove-fomatting",edit:e=>{let{value:t,onChange:o}=e;const n=(0,v.useSelect)((e=>e("core/rich-text").getFormatTypes()),[]),r=(0,i.useCallback)((()=>{if(0<n.length){let e=t;n.forEach((t=>{e=(0,p.removeFormat)(e,t.name)})),o({...e})}}),[t,n]);return(0,i.createElement)(k,{icon:"editor-removeformatting",title:w,onClick:r})}};function E(e){let{ref:t,value:o,settings:n={}}=e;const{tagName:r,className:a,name:s}=n,l=s?(0,p.getActiveFormat)(o,s):void 0;return(0,i.useMemo)((()=>{if(!t.current)return;const{ownerDocument:{defaultView:e}}=t.current,o=e.getSelection();if(!o.rangeCount)return;const n=o.getRangeAt(0);if(!l)return n;let s=n.startContainer;for(s=s.nextElementSibling||s;s.nodeType!==s.ELEMENT_NODE;)s=s.parentNode;return s.closest(r+(a?"."+a:""))}),[])}const S=e=>{let{name:t,value:o,onChange:n,onClose:r}=e;const a=(0,v.useSelect)((e=>{const{getSettings:t}=e("core/block-editor");return(0,m.get)(t(),["fontSizes"],[])})),s=(0,i.useCallback)((e=>{if(e){let r;if((0,m.isString)(e)||a[0]&&(0,m.isString)(a[0].size))r=e;else{if(!(0,m.isNumber)(e))return;r=`${e}px`}const s=(0,m.find)(a,{size:e});n((0,p.applyFormat)(o,{type:t,attributes:s?{class:(0,u.getFontSizeClass)(s.slug)}:{style:`font-size: ${r}`}}))}else n((0,p.removeFormat)(o,t)),r()}),[a,n]),l=(0,i.useMemo)((()=>function(e,t,o){const n=(0,p.getActiveFormat)(t,e);if(!n)return;const r=n.attributes.style;if(r)return r.replace(new RegExp("^font-size:\\s*"),"");const a=n.attributes.class;if(a){const e=a.replace(/.*has-([^\s]*)-font-size.*/,"$1"),t=(0,m.find)(o,{slug:e});if(!t)return;return t.size}}(t,o,a)),[t,o]);return(0,i.createElement)(u.FontSizePicker,{value:l,onChange:s,fontSizes:a})};var x=(0,g.withSpokenMessages)((e=>{let{name:t,value:o,onChange:n,onClose:r,contentRef:a,settings:s}=e;const l=E({ref:a,value:o,settings:s});return(0,i.createElement)(u.URLPopover,{value:o,onClose:r,className:"sme-popover sme-popover--inline-font-size components-inline-color-popover",anchorRef:l},(0,i.createElement)("fieldset",null,(0,i.createElement)(S,{name:t,value:o,onChange:n,onClose:r})))}));const F="snow-monkey-editor/font-size",N=(0,d.__)("Font size","snow-monkey-editor"),R=[],A={name:F,title:N,tagName:"span",className:"sme-font-size",attributes:{style:"style",class:"class"},edit:e=>{const{value:t,onChange:o,isActive:n,activeAttributes:r,contentRef:a}=e,s=(0,u.useSetting)("typography.customFontSize",F),l=(0,u.useSetting)("typography.fontSizes")||R,[c,d]=(0,i.useState)(!1),b=(0,i.useCallback)((()=>d(!0)),[d]),h=(0,i.useCallback)((()=>d(!1)),[d]),f=!(0,m.isEmpty)(l)||!s;return f||n?(0,i.createElement)(i.Fragment,null,(0,i.createElement)(k,{key:n?"sme-font-size":"sme-font-size-not-active",name:n?"sme-font-size":void 0,title:N,className:"format-library-text-color-button sme-toolbar-button",onClick:f?b:()=>o((0,p.removeFormat)(t,F)),icon:(0,i.createElement)(i.Fragment,null,(0,i.createElement)(g.Icon,{icon:"editor-textcolor"}),n&&(0,i.createElement)("span",{className:"format-library-text-color-button__indicator sme-toolbar-button__indicator",style:{backgroundColor:"#cd162c"}}))}),c&&(0,i.createElement)(x,{name:F,onClose:h,activeAttributes:r,value:t,onChange:function(){o(...arguments)},contentRef:a,settings:A})):null}},M=e=>{let{name:t,title:o,value:n,onChange:r,onClose:a}=e;const s=(0,i.useCallback)((e=>{e?r((0,p.applyFormat)(n,{type:t,attributes:{style:`letter-spacing: ${e}rem`}})):(r((0,p.removeFormat)(n,t)),a())}),[r]),l=(0,i.useMemo)((()=>function(e,t){const o=(0,p.getActiveFormat)(t,e);if(!o)return;const n=o.attributes.style;return n?parseFloat(n.replace(new RegExp("^letter-spacing:\\s*"),"").replace("rem","")):void 0}(t,n)),[t,n]);return(0,i.createElement)(g.RangeControl,{label:o,value:l,onChange:s,min:"0",max:"2",step:"0.1",initialPosition:void 0,allowReset:!0})};var I=(0,g.withSpokenMessages)((e=>{let{name:t,title:o,value:n,onChange:r,onClose:a,contentRef:s,settings:l}=e;const c=E({ref:s,value:n,settings:l});return(0,i.createElement)(u.URLPopover,{value:n,onClose:a,className:"sme-popover sme-popover--inline-letter-spacing components-inline-color-popover",anchorRef:c},(0,i.createElement)("fieldset",null,(0,i.createElement)(M,{name:t,title:o,value:n,onChange:r,onClose:a})))}));const z="snow-monkey-editor/letter-spacing",P=(0,d.__)("Letter spacing","snow-monkey-editor"),O={name:z,title:P,tagName:"span",className:"sme-letter-spacing",attributes:{style:"style"},edit:e=>{const{value:t,onChange:o,isActive:n,activeAttributes:r,contentRef:a}=e,[s,l]=(0,i.useState)(!1),c=(0,i.useCallback)((()=>l(!0)),[l]),m=(0,i.useCallback)((()=>l(!1)),[l]);return(0,i.createElement)(i.Fragment,null,(0,i.createElement)(k,{key:n?"sme-letter-spacing":"sme-letter-spacing-not-active",name:n?"sme-letter-spacing":void 0,title:P,className:"format-library-text-color-button sme-toolbar-button",onClick:c,icon:(0,i.createElement)(i.Fragment,null,(0,i.createElement)(g.Icon,{icon:"controls-pause"}),n&&(0,i.createElement)("span",{className:"format-library-text-color-button__indicator sme-toolbar-button__indicator",style:{backgroundColor:"#cd162c"}}))}),s&&(0,i.createElement)(I,{name:z,title:P,onClose:m,activeAttributes:r,value:t,onChange:function(){o(...arguments)},contentRef:a,settings:O}))}},T=e=>{let{name:t,title:o,value:n,onChange:r,onClose:a}=e;const s=(0,i.useCallback)((e=>{e?r((0,p.applyFormat)(n,{type:t,attributes:{style:`line-height: ${e}`}})):(r((0,p.removeFormat)(n,t)),a())}),[r]),l=(0,i.useMemo)((()=>function(e,t){const o=(0,p.getActiveFormat)(t,e);if(!o)return;const n=o.attributes.style;return n?parseFloat(n.replace(new RegExp("^line-height:\\s*"),"")):void 0}(t,n)),[t,n]);return(0,i.createElement)(g.RangeControl,{label:o,value:l,onChange:s,min:"0",max:"5",step:"0.1",initialPosition:void 0,allowReset:!0})};var $=(0,g.withSpokenMessages)((e=>{let{name:t,title:o,value:n,onChange:r,onClose:a,contentRef:s,settings:l}=e;const c=E({ref:s,value:n,settings:l});return(0,i.createElement)(u.URLPopover,{value:n,onClose:a,className:"sme-popover sme-popover--inline-line-height components-inline-color-popover",anchorRef:c},(0,i.createElement)("fieldset",null,(0,i.createElement)(T,{name:t,title:o,value:n,onChange:r,onClose:a})))}));const B="snow-monkey-editor/line-height",L=(0,d.__)("Line height","snow-monkey-editor"),j={name:B,title:L,tagName:"span",className:"sme-line-height",attributes:{style:"style"},edit:e=>{const{value:t,onChange:o,isActive:n,activeAttributes:r,contentRef:a}=e,[s,l]=(0,i.useState)(!1),c=(0,i.useCallback)((()=>l(!0)),[l]),m=(0,i.useCallback)((()=>l(!1)),[l]);return(0,i.createElement)(i.Fragment,null,(0,i.createElement)(k,{key:n?"sme-line-height":"sme-line-height-not-active",name:n?"sme-line-height":void 0,title:L,className:"format-library-text-color-button sme-toolbar-button",onClick:c,icon:(0,i.createElement)(i.Fragment,null,(0,i.createElement)(g.Icon,{icon:"editor-insertmore"}),n&&(0,i.createElement)("span",{className:"format-library-text-color-button__indicator sme-toolbar-button__indicator",style:{backgroundColor:"#cd162c"}}))}),s&&(0,i.createElement)($,{name:B,title:L,onClose:m,activeAttributes:r,value:t,onChange:function(){o(...arguments)},contentRef:a,settings:j}))}};function V(){const e={disableCustomColors:!(0,u.useSetting)("color.custom"),disableCustomGradients:!(0,u.useSetting)("color.customGradient")},t=(0,u.useSetting)("color.palette.custom"),o=(0,u.useSetting)("color.palette.theme"),n=(0,u.useSetting)("color.palette.default"),r=(0,u.useSetting)("color.defaultPalette");e.colors=(0,i.useMemo)((()=>{const e=[];return o&&o.length&&e.push({name:(0,d._x)("Theme","Indicates this palette comes from the theme.","snow-monkey-blocks"),colors:o}),r&&n&&n.length&&e.push({name:(0,d._x)("Default","Indicates this palette comes from WordPress.","snow-monkey-blocks"),colors:n}),t&&t.length&&e.push({name:(0,d._x)("Custom","Indicates this palette comes from the theme.","snow-monkey-blocks"),colors:t}),e}),[n,o,t]);const a=(0,u.useSetting)("color.gradients.custom"),s=(0,u.useSetting)("color.gradients.theme"),l=(0,u.useSetting)("color.gradients.default"),c=(0,u.useSetting)("color.defaultGradients");return e.gradients=(0,i.useMemo)((()=>{const e=[];return s&&s.length&&e.push({name:(0,d._x)("Theme","Indicates this palette comes from the theme.","snow-monkey-blocks"),gradients:s}),c&&l&&l.length&&e.push({name:(0,d._x)("Default","Indicates this palette comes from WordPress.","snow-monkey-blocks"),gradients:l}),a&&a.length&&e.push({name:(0,d._x)("Custom","Indicates this palette is created by the user.","snow-monkey-blocks"),gradients:a}),e}),[a,s,l]),e}function G(e,t,o){const n=(0,p.getActiveFormat)(t,e);if(!n)return;const r=n.attributes.style;if(r)return r.replace(new RegExp("^color:\\s*"),"");const a=n.attributes.class;if(a){const e=a.replace(/.*has-([^\s]*)-color.*/,"$1");return(0,u.getColorObjectByAttributeValues)(o,e).color}}const U=e=>{let{name:t,value:o,onChange:n,onClose:r}=e;const a=(0,v.useSelect)((e=>{const{getSettings:t}=e("core/block-editor");return(0,m.get)(t(),["colors"],[])})),s=(0,i.useCallback)((e=>{if(e){const r=(0,u.getColorObjectByColorValue)(a,e);n((0,p.applyFormat)(o,{type:t,attributes:r?{class:(0,u.getColorClassName)("color",r.slug)}:{style:`color: ${e}`}}))}else n((0,p.removeFormat)(o,t)),r()}),[a,n]),l=(0,i.useMemo)((()=>G(t,o,a)),[t,o,a]),c=V();return(0,i.createElement)(u.__experimentalColorGradientControl,y({label:(0,d.__)("Color","snow-monkey-editor"),colorValue:l,onColorChange:s},c,{__experimentalHasMultipleOrigins:!0,__experimentalIsRenderedInSidebar:!0}))};var Z=(0,g.withSpokenMessages)((e=>{let{name:t,value:o,onChange:n,onClose:r,contentRef:a,settings:s}=e;const l=E({ref:a,value:o,settings:s});return(0,i.createElement)(u.URLPopover,{value:o,onClose:r,className:"sme-popover sme-popover--inline-color components-inline-color-popover",anchorRef:l},(0,i.createElement)(U,{name:t,value:o,onChange:n,onClose:r}))}));const D="snow-monkey-editor/text-color",H=(0,d.__)("Text color","snow-monkey-editor"),q=[],W={name:D,title:H,tagName:"span",className:"sme-text-color",attributes:{style:"style",class:"class"},edit:e=>{const{value:t,onChange:o,isActive:n,activeAttributes:r,contentRef:a}=e,s=(0,u.useSetting)("color.custom"),l=(0,u.useSetting)("color.palette")||q,[c,d]=(0,i.useState)(!1),b=(0,i.useCallback)((()=>d(!0)),[d]),h=(0,i.useCallback)((()=>d(!1)),[d]),f=(0,i.useMemo)((()=>{const e=G(D,t,l);if(e)return{backgroundColor:e}}),[t,l]),v=!(0,m.isEmpty)(l)||!s;return v||n?(0,i.createElement)(i.Fragment,null,(0,i.createElement)(k,{key:n?"sme-text-color":"sme-text-color-not-active",name:n?"sme-text-color":void 0,title:H,className:"format-library-text-color-button sme-toolbar-button",onClick:v?b:()=>o((0,p.removeFormat)(t,D)),icon:(0,i.createElement)(i.Fragment,null,(0,i.createElement)(g.Icon,{icon:"edit"}),n&&(0,i.createElement)("span",{className:"format-library-text-color-button__indicator sme-toolbar-button__indicator",style:f}))}),c&&(0,i.createElement)(Z,{name:D,onClose:h,activeAttributes:r,value:t,onChange:function(){o(...arguments)},contentRef:a,settings:W})):null}};function J(e,t,o){const n=(0,p.getActiveFormat)(t,e);if(!n)return;const r=n.attributes.style;if(r)return r.replace(new RegExp("^background-color:\\s*"),"");const a=n.attributes.class;if(a){const e=a.replace(/.*has-([^\s]*)-background-color.*/,"$1");return(0,u.getColorObjectByAttributeValues)(o,e).color}}const K=e=>{let{name:t,value:o,onChange:n,onClose:r}=e;const a=(0,v.useSelect)((e=>{const{getSettings:t}=e("core/block-editor");return(0,m.get)(t(),["colors"],[])})),s=(0,i.useCallback)((e=>{if(e){const r=(0,u.getColorObjectByColorValue)(a,e);n((0,p.applyFormat)(o,{type:t,attributes:r?{class:(0,u.getColorClassName)("background-color",r.slug)}:{style:`background-color: ${e}`}}))}else n((0,p.removeFormat)(o,t)),r()}),[a,n]),l=(0,i.useMemo)((()=>J(t,o,a)),[t,o,a]),c=V();return(0,i.createElement)(u.__experimentalColorGradientControl,y({label:(0,d.__)("Color","snow-monkey-editor"),colorValue:l,onColorChange:s},c,{__experimentalHasMultipleOrigins:!0,__experimentalIsRenderedInSidebar:!0}))};var Q=(0,g.withSpokenMessages)((e=>{let{name:t,value:o,onChange:n,onClose:r,contentRef:a,settings:s}=e;const l=E({ref:a,value:o,settings:s});return(0,i.createElement)(u.URLPopover,{value:o,onClose:r,className:"sme-popover sme-popover--inline-background-color components-inline-color-popover",anchorRef:l},(0,i.createElement)(K,{name:t,value:o,onChange:n,onClose:r}))}));const X="snow-monkey-editor/bg-color",Y=(0,d.__)("Background color","snow-monkey-editor"),ee=[],te={name:X,title:Y,tagName:"span",className:"sme-bg-color",attributes:{style:"style",class:"class"},edit:e=>{const{value:t,onChange:o,isActive:n,activeAttributes:r,contentRef:a}=e,s=(0,u.useSetting)("color.custom"),l=(0,u.useSetting)("color.palette")||ee,[c,d]=(0,i.useState)(!1),b=(0,i.useCallback)((()=>d(!0)),[d]),h=(0,i.useCallback)((()=>d(!1)),[d]),f=(0,i.useMemo)((()=>{const e=J(X,t,l);if(e)return{backgroundColor:e}}),[t,l]),v=!(0,m.isEmpty)(l)||!s;return v||n?(0,i.createElement)(i.Fragment,null,(0,i.createElement)(k,{key:n?"sme-bg-color":"sme-bg-color-not-active",name:n?"sme-bg-color":void 0,title:Y,className:"format-library-text-color-button sme-toolbar-button",onClick:v?b:()=>o((0,p.removeFormat)(t,X)),icon:(0,i.createElement)(i.Fragment,null,(0,i.createElement)(g.Icon,{icon:"buddicons-topics"}),n&&(0,i.createElement)("span",{className:"format-library-text-color-button__indicator sme-toolbar-button__indicator",style:f}))}),c&&(0,i.createElement)(Q,{name:X,onClose:h,activeAttributes:r,value:t,onChange:function(){o(...arguments)},contentRef:a,settings:te})):null}};var oe=o(306),ne=o.n(oe),re=o(685),ae=o.n(re);function se(e,t){const o=(0,p.getActiveFormat)(t,e);if(!o)return;const n=o.attributes.style;if(!n)return;const r=n.match(/(#[0-9A-F]{3,6}) /i);if(r)return r;const a=n.match(/,\s*?(rgba?\([^)]+\)) /i);return a?function(e){if(!e||4===e.length)return e;const t=e.match(/^#([0-9A-F])\1([0-9A-F])\1([0-9A-F])\1$/i);return t?`#${t[1].slice(0,1)}${t[2].slice(0,1)}${t[3].slice(0,1)}`:e}(ne()(a[1]).hex):void 0}const le=e=>{let{name:t,value:o,onChange:n,onClose:r}=e;const a=(0,v.useSelect)((e=>{const{getSettings:t}=e("core/block-editor");return(0,m.get)(t(),["colors"],[])})),s=(0,i.useCallback)((e=>{e?n((0,p.applyFormat)(o,{type:t,attributes:{style:`background-image: linear-gradient(transparent 60%, ${ae()(e,.5)} 60%)`}})):(n((0,p.removeFormat)(o,t)),r())}),[a,n]),l=(0,i.useMemo)((()=>se(t,o)),[t,o,a]),c=V();return(0,i.createElement)(u.__experimentalColorGradientControl,y({label:(0,d.__)("Color","snow-monkey-editor"),colorValue:l,onColorChange:s},c,{__experimentalHasMultipleOrigins:!0,__experimentalIsRenderedInSidebar:!0}))};var ce=(0,g.withSpokenMessages)((e=>{let{name:t,value:o,onChange:n,onClose:r,contentRef:a,settings:s}=e;const l=E({ref:a,value:o,settings:s});return(0,i.createElement)(u.URLPopover,{value:o,onClose:r,className:"sme-popover sme-popover--inline-color components-inline-color-popover",anchorRef:l},(0,i.createElement)(le,{name:t,value:o,onChange:n,onClose:r}))}));const ie="snow-monkey-editor/highlighter",me=(0,d.__)("Highlighter","snow-monkey-editor"),ue=[],ge={name:ie,title:me,tagName:"span",className:"sme-highlighter",attributes:{style:"style"},edit:e=>{const{value:t,onChange:o,isActive:n,activeAttributes:r,contentRef:a}=e,s=(0,u.useSetting)("color.custom"),l=(0,u.useSetting)("color.palette")||ue,[c,d]=(0,i.useState)(!1),b=(0,i.useCallback)((()=>d(!0)),[d]),h=(0,i.useCallback)((()=>d(!1)),[d]),f=(0,i.useMemo)((()=>{const e=se(ie,t);if(e)return{backgroundColor:e}}),[t,l]),v=!(0,m.isEmpty)(l)||!s;return v||n?(0,i.createElement)(i.Fragment,null,(0,i.createElement)(k,{key:n?"sme-highlighter":"sme-highlighter-not-active",name:n?"sme-highlighter":void 0,title:me,className:"format-library-text-color-button sme-toolbar-button",onClick:v?b:()=>o((0,p.removeFormat)(t,ie)),icon:(0,i.createElement)(i.Fragment,null,(0,i.createElement)(g.Icon,{icon:"admin-customizer"}),n&&(0,i.createElement)("span",{className:"format-library-text-color-button__indicator sme-toolbar-button__indicator",style:f}))}),c&&(0,i.createElement)(ce,{name:ie,onClose:h,activeAttributes:r,value:t,onChange:function(){o(...arguments)},contentRef:a,settings:ge})):null}},pe="snow-monkey-editor/badge",de=(0,d.__)("Badge","snow-monkey-editor"),be=[],he={name:pe,title:de,tagName:"span",className:"sme-badge",attributes:{style:"style",class:"class"},edit:e=>{const{value:t,onChange:o,isActive:n,activeAttributes:r,contentRef:a}=e,s=(0,u.useSetting)("color.custom"),l=(0,u.useSetting)("color.palette")||be,[c,d]=(0,i.useState)(!1),b=(0,i.useCallback)((()=>d(!0)),[d]),h=(0,i.useCallback)((()=>d(!1)),[d]),f=(0,i.useMemo)((()=>{const e=J(pe,t,l);if(e)return{backgroundColor:e}}),[t,l]),v=!(0,m.isEmpty)(l)||!s;return v||n?(0,i.createElement)(i.Fragment,null,(0,i.createElement)(k,{key:n?"sme-badge":"sme-badge-not-active",name:n?"sme-badge":void 0,title:de,className:"format-library-text-color-button sme-toolbar-button",onClick:v?b:()=>o((0,p.removeFormat)(t,pe)),icon:(0,i.createElement)(i.Fragment,null,(0,i.createElement)(g.Icon,{icon:"tag"}),n&&(0,i.createElement)("span",{className:"format-library-text-color-button__indicator sme-toolbar-button__indicator",style:f}))}),c&&(0,i.createElement)(Q,{name:pe,onClose:h,activeAttributes:r,value:t,onChange:function(){o(...arguments)},contentRef:a,settings:he})):null}};f(e),f(t),f(n),f(r),f(a),f(s),f(l),f(c);var fe=window.wp.blocks,ve=window.wp.hooks,ye=window.wp.compose,Ce={name:"sme-alert",label:(0,d.__)("Alert","snow-monkey-editor")},ke=["core/group","core/paragraph"].map((e=>({name:e,settings:Ce}))),we={name:"sme-alert-success",label:(0,d.__)("Alert (Success)","snow-monkey-editor")},_e=["core/group","core/paragraph"].map((e=>({name:e,settings:we}))),Ee={name:"sme-alert-warning",label:(0,d.__)("Alert (Warning)","snow-monkey-editor")},Se=["core/group","core/paragraph"].map((e=>({name:e,settings:Ee}))),xe={name:"sme-alert-remark",label:(0,d.__)("Alert (Remarks)","snow-monkey-editor")},Fe=["core/group","core/paragraph"].map((e=>({name:e,settings:xe}))),Ne={name:"sme-block-code-nowrap",label:(0,d.__)("No wrap","snow-monkey-editor")},Re=["core/code"].map((e=>({name:e,settings:Ne}))),Ae={name:"sme-block-code-wrap",label:(0,d.__)("Wrap","snow-monkey-editor")},Me=["core/code"].map((e=>({name:e,settings:Ae}))),Ie={name:"sme-fluid-shape-1",label:(0,d.__)("Fluid Shape 1","snow-monkey-editor")},ze=["core/image","core/media-text"].map((e=>({name:e,settings:Ie}))),Pe={name:"sme-fluid-shape-2",label:(0,d.__)("Fluid Shape 2","snow-monkey-editor")},Oe=["core/image","core/media-text"].map((e=>({name:e,settings:Pe}))),Te={name:"sme-fluid-shape-3",label:(0,d.__)("Fluid Shape 3","snow-monkey-editor")},$e=["core/image","core/media-text"].map((e=>({name:e,settings:Te}))),Be={name:"sme-list-arrow",label:(0,d.__)("Arrow","snow-monkey-editor")},Le=["core/list"].map((e=>({name:e,settings:Be}))),je={name:"sme-list-check",label:(0,d.__)("Check","snow-monkey-editor")},Ve=["core/list"].map((e=>({name:e,settings:je}))),Ge={name:"sme-list-remark",label:(0,d.__)("Remarks","snow-monkey-editor")},Ue=["core/list"].map((e=>({name:e,settings:Ge}))),Ze={name:"sme-list-times",label:(0,d.__)("Times","snow-monkey-editor")},De=["core/list"].map((e=>({name:e,settings:Ze}))),He={name:"sme-ordered-list-circle",label:(0,d.__)("Ordered list (Circle)","snow-monkey-editor")},qe=["core/list"].map((e=>({name:e,settings:He}))),We={name:"sme-ordered-list-square",label:(0,d.__)("Ordered list (Square)","snow-monkey-editor")},Je=["core/list"].map((e=>({name:e,settings:We}))),Ke={name:"sme-post-it",label:(0,d.__)("Post-it","snow-monkey-editor")},Qe=["core/paragraph"].map((e=>({name:e,settings:Ke}))),Xe={name:"sme-post-it-narrow",label:(0,d.__)("Post-it (Narrow)","snow-monkey-editor")},Ye=["core/paragraph"].map((e=>({name:e,settings:Xe}))),et={name:"sme-shadowed",label:(0,d.__)("Shadowed","snow-monkey-editor")},tt=["core/image","core/button"].map((e=>({name:e,settings:et}))),ot={name:"sme-speech",label:(0,d.__)("Speech","snow-monkey-editor")};[ke,_e,Se,Fe,Re,Me,ze,Oe,$e,Le,Ve,Ue,De,qe,Je,Qe,Ye,tt,["core/paragraph"].map((e=>({name:e,settings:ot})))].forEach((e=>{e.forEach((e=>(e=>{if(!e)return;const{name:t,settings:o}=e;(0,fe.registerBlockStyle)(t,o)})(e)))})),(0,ve.addFilter)("editor.BlockEdit","snow-monkey-editor/ordered-list/block-edit",(0,ye.createHigherOrderComponent)((e=>t=>{const{attributes:o,name:n,clientId:r}=t,{start:a,reversed:s,ordered:l}=o;if("core/list"!==n)return(0,i.createElement)(e,t);const c=document.querySelector(`[data-block="${r}"].rich-text`);return c?c.classList.contains("is-style-sme-ordered-list-square")||c.classList.contains("is-style-sme-ordered-list-circle")?(c.style.counterReset=l?s?`sme-count ${a+1}`:"sme-count "+(a-1):"",(0,i.createElement)(e,t)):(c.style.counterReset="",(0,i.createElement)(e,t)):(0,i.createElement)(e,t)}),"withSnowMonkeyEditorOrderdListBlockEdit"))}()}();